<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <link rel="icon" type="image/png" href="favicon.png">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Novovue - Streaming Premium</title>
  <style>
    :root {
      --primary-color: #ff2d55;
      --primary-dark: #d12245;
      --secondary-color: #0f0f13;
      --accent-color: #00c8ff;
      --bg-light: #1a1a24;
      --bg-lighter: #252535;
      --text-color: #ffffff;
      --text-secondary: #bbbbbb;
      --gradient: linear-gradient(135deg, var(--primary-color) 0%, var(--accent-color) 100%);
      --card-shadow: 0 8px 16px rgba(0, 0, 0, 0.3);
      --transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
    }
    
    * { 
      margin: 0; 
      padding: 0; 
      box-sizing: border-box; 
      font-family: 'Poppins', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif; 
    }
    
    body {
      background-color: var(--secondary-color);
      color: var(--text-color);
      line-height: 1.6;
      overflow-x: hidden;
      -webkit-font-smoothing: antialiased;
    }
    
    body.overlay-open { 
      overflow: hidden; 
      width: 100%;
    }
    
    a { 
      color: inherit; 
      text-decoration: none; 
    }
    
    .container { 
      width: 95%; 
      max-width: 1400px; 
      margin: 0 auto; 
      padding: 20px 0; 
    }

    /* Header */
    header {
      position: sticky; 
      top: 0; 
      z-index: 1000;
      background: rgba(15,15,19,0.98);
      backdrop-filter: blur(10px);
      border-bottom: 1px solid rgba(255,255,255,0.1);
      transition: all 0.3s ease;
    }
    
    header.scrolled { 
      padding: 5px 0; 
      box-shadow: 0 5px 20px rgba(0,0,0,0.3); 
    }
    
    .header-content {
      display: flex;
      align-items: center;
      justify-content: center; /* Centrage horizontal du nav */
      padding: 12px 0;
      position: relative; /* Nécessaire pour placer logo et recherche */
    }
    
    .logo {
      position: absolute;
      left: 0;
      display: flex;
      align-items: center;
      gap: 8px;
      font-size: 1.5rem;
      font-weight: 700;
      background: var(--gradient);
      -webkit-background-clip: text;
      background-clip: text;
      -webkit-text-fill-color: transparent;
      transition: var(--transition);
    }
    
    .logo:hover { 
      transform: scale(1.03); 
    }
    
    .logo-icon { 
      font-size: 1.8rem; 
      color: var(--primary-color); 
    }
    
    nav {
      display: none;
    }
    
    .mobile-menu-toggle {
      display: none;
      background: none;
      border: none;
      color: var(--text-color);
      font-size: 1.5rem;
      cursor: pointer;
      z-index: 1001;
    }
    
    .nav-menu {
      display: flex;
      gap: 20px;
      list-style: none;
    }
    
    .nav-menu li a {
      font-weight: 500; 
      position: relative; 
      padding: 5px 0; 
      font-size: 0.95rem;
      transition: var(--transition);
    }
    
    .nav-menu li a::after {
      content: ''; 
      position: absolute; 
      bottom: 0; 
      left: 0; 
      width: 0; 
      height: 2px;
      background: var(--gradient); 
      transition: width 0.3s ease;
    }
    
    .nav-menu li a:hover, 
    .nav-menu li a.active { 
      color: var(--primary-color); 
    }
    
    .nav-menu li a:hover::after, 
    .nav-menu li a.active::after { 
      width: 100%; 
    }

    .search-toggle {
      position: absolute;
      right: 0;
      background: none;
      border: none;
      color: var(--text-color);
      font-size: 1.2rem;
      width: 40px;
      height: 40px;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: var(--transition);
      border-radius: 50%;
      cursor: pointer;
    }

    
    .search-toggle:hover { 
      background: rgba(255,255,255,0.1); 
      color: var(--primary-color); 
    }

    .search-bar {
      position: absolute; 
      top: 50%; 
      right: 60px; 
      transform: translateY(-50%);
      width: 200px; 
      display: none; 
      z-index: 1001;
    }
    
    .search-bar.active { 
      display: block; 
      animation: fadeIn 0.3s ease; 
    }
    
    .search-bar input {
      width: 100%; 
      padding: 10px 16px 10px 16px; 
      padding-right: 40px;
      border: none; 
      border-radius: 30px; 
      background: rgba(255,255,255,0.1);
      color: var(--text-color); 
      font-size: 0.9rem; 
      outline: none;
      backdrop-filter: blur(5px); 
      transition: var(--transition);
    }
    
    .search-bar button {
      position: absolute; 
      right: 5px; 
      top: 50%; 
      transform: translateY(-50%);
      width: 30px; 
      height: 30px; 
      background: var(--gradient); 
      border: none;
      border-radius: 50%; 
      color: white; 
      display: flex; 
      align-items: center;
      justify-content: center; 
      cursor: pointer; 
      transition: var(--transition);
    }
    
    .search-bar button:hover { 
      transform: translateY(-50%) scale(1.1); 
    }

    /* Hero */
    .hero {
      height: 70vh; 
      min-height: 500px;
      max-height: 800px;
      background: linear-gradient(rgba(0,0,0,0.5), rgba(0,0,0,0.7)), 
                  url('https://image.tmdb.org/t/p/original/rLb2cwF3Pazuxaj0sRXQ037tGI1.jpg') no-repeat center/cover;
      display: flex; 
      align-items: center; 
      justify-content: center; 
      text-align: center;
      padding: 0 20px; 
      position: relative; 
      overflow: hidden;
    }
    
    .hero::before {
      content: ''; 
      position: absolute; 
      bottom: 0; 
      left: 0; 
      width: 100%; 
      height: 150px;
      background: linear-gradient(transparent, var(--secondary-color)); 
      z-index: 1;
    }
    
    .hero-content {
      max-width: 800px; 
      position: relative; 
      z-index: 2; 
      opacity: 0;
      transform: translateY(20px); 
      animation: fadeInUp 0.8s 0.3s forwards;
      padding: 0 20px;
    }
    
    .hero h1 {
      font-size: 3rem; 
      margin-bottom: 15px;
      background: linear-gradient(to right, #fff 20%, var(--accent-color) 100%);
      -webkit-background-clip: text; 
      background-clip: text;
      -webkit-text-fill-color: transparent; 
      line-height: 1.2;
      text-shadow: 0 2px 10px rgba(0,0,0,0.3);
    }
    
    .hero p { 
      font-size: 1.2rem; 
      color: var(--text-secondary); 
      margin-bottom: 30px; 
    }
    
    .hero-btn {
      display: inline-block; 
      padding: 12px 30px; 
      background: var(--gradient);
      border-radius: 30px; 
      font-weight: 600; 
      color: white; 
      transition: var(--transition);
      box-shadow: 0 5px 15px rgba(255,45,85,0.3);
      border: none;
      cursor: pointer;
      font-size: 1rem;
    }
    
    .hero-btn:hover { 
      transform: translateY(-3px); 
      box-shadow: 0 8px 20px rgba(255,45,85,0.4); 
    }

    /* Streaming categories */
    .streaming-categories {
      display: flex; 
      overflow-x: auto; 
      gap: 12px; 
      padding: 15px 5px; 
      margin: 25px 0;
      scrollbar-width: none;
      -ms-overflow-style: none;
    }
    
    .streaming-categories::-webkit-scrollbar { 
      display: none; 
    }
    
    .stream-btn {
      flex: 0 0 auto; 
      display: flex; 
      align-items: center; 
      gap: 8px;
      background: var(--bg-light); 
      border: none; 
      border-radius: 8px; 
      padding: 10px 18px;
      cursor: pointer; 
      transition: var(--transition); 
      color: var(--text-color); 
      font-weight: 500;
      box-shadow: var(--card-shadow);
      font-size: 0.9rem;
      white-space: nowrap;
    }
    
    .stream-btn img { 
      height: 20px; 
      transition: transform 0.3s ease; 
    }
    
    .stream-btn:hover { 
      background: var(--primary-color); 
      color: white; 
      transform: translateY(-3px); 
    }
    
    .stream-btn.active { 
      background: var(--gradient); 
      color: white; 
    }

    /* Section titles */
    section { 
      margin-bottom: 40px; 
      position: relative; 
    }
    
    section h2 {
      font-size: 1.5rem; 
      margin-bottom: 20px; 
      position: relative;
      padding-left: 12px; 
      display: inline-block;
      font-weight: 600;
    }
    
    section h2::before {
      content: ''; 
      position: absolute; 
      left: 0; 
      top: 0; 
      height: 100%;
      width: 4px; 
      background: var(--gradient); 
      border-radius: 5px;
    }

    /* Movie grids */
    .movies-grid-container {
      position: relative;
    }
    
    .movies-grid {
      display: flex; 
      overflow-x: auto; 
      gap: 15px; 
      padding: 15px 5px; 
      margin-bottom: 10px;
      scroll-behavior: smooth; 
      scrollbar-width: none;
      -ms-overflow-style: none;
    }
    
    .movies-grid::-webkit-scrollbar { 
      display: none; 
    }

    /* Fixed navigation arrows */
    .section-nav-arrow {
      position: absolute; 
      top: 50%; 
      transform: translateY(-50%);
      width: 36px; 
      height: 36px; 
      background: rgba(255,255,255,0.2);
      border: none; 
      border-radius: 50%; 
      color: white; 
      font-size: 1rem;
      cursor: pointer; 
      z-index: 10; 
      display: flex; 
      align-items: center;
      justify-content: center; 
      transition: var(--transition);
      opacity: 0.8;
    }
    
    .section-nav-arrow:hover { 
      background: rgba(255,255,255,0.4); 
      opacity: 1;
    }
    
    .section-nav-arrow.left { 
      left: -10px; 
    }
    
    .section-nav-arrow.right { 
      right: -10px; 
    }

    /* Override grid for overlays */
    #platform-results, #search-results, #films-content, #series-content, #categories-content {
      display: grid !important;
      grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
      gap: 20px; 
      overflow: visible !important;
      padding: 10px 0;
    }

    /* Movie card */
    .movie-card {
      flex: 0 0 auto; 
      width: 150px; 
      background: var(--bg-light);
      border-radius: 10px; 
      overflow: hidden; 
      cursor: pointer;
      transition: var(--transition);
      position: relative; 
      box-shadow: var(--card-shadow);
    }
    
    .movie-card:hover { 
      transform: translateY(-8px) scale(1.03); 
      box-shadow: 0 12px 24px rgba(0,0,0,0.4); 
    }
    
    .movie-card::before {
      content: ''; 
      position: absolute; 
      top: 0; 
      left: 0; 
      width: 100%; 
      height: 100%;
      background: linear-gradient(to top, rgba(0,0,0,0.8) 0%, transparent 50%);
      opacity: 0; 
      transition: opacity 0.3s ease; 
      z-index: 1;
    }
    
    .movie-card:hover::before { 
      opacity: 1; 
    }

    .movie-poster { 
      width: 100%; 
      height: 225px; 
      object-fit: cover; 
      transition: transform 0.5s ease; 
    }
    
    .movie-card:hover .movie-poster { 
      transform: scale(1.05); 
    }

    .movie-info { 
      padding: 12px; 
      position: relative; 
      z-index: 2; 
    }
    
    .movie-info h3 {
      font-size: 0.95rem; 
      margin-bottom: 5px; 
      white-space: nowrap;
      overflow: hidden; 
      text-overflow: ellipsis; 
      transition: color 0.3s ease;
      font-weight: 500;
    }
    
    .movie-card:hover .movie-info h3 { 
      color: var(--primary-color); 
    }
    
    .movie-info p {
      font-size: 0.8rem; 
      color: var(--text-secondary); 
      display: flex;
      align-items: center; 
      gap: 5px;
    }
    
    .movie-rating { 
      color: gold; 
      font-weight: 600; 
    }

    .play-icon {
      position: absolute; 
      top: 50%; 
      left: 50%; 
      transform: translate(-50%, -50%) scale(0.8);
      width: 45px; 
      height: 45px; 
      background: rgba(255,255,255,0.95);
      border-radius: 50%; 
      display: flex; 
      align-items: center; 
      justify-content: center;
      color: var(--primary-color); 
      font-size: 1.3rem; 
      opacity: 0; 
      transition: var(--transition);
      z-index: 2; 
      box-shadow: 0 5px 15px rgba(0,0,0,0.3);
    }
    
    .movie-card:hover .play-icon { 
      opacity: 1; 
      transform: translate(-50%, -50%) scale(1); 
    }

    /* See more button */
    .see-more-btn {
      display: block; 
      margin: 20px auto 0; 
      padding: 10px 25px;
      background: var(--gradient); 
      color: #fff; 
      border: none;
      border-radius: 30px; 
      cursor: pointer; 
      font-weight: 500;
      transition: var(--transition);
      font-size: 0.9rem;
      box-shadow: 0 4px 12px rgba(255,45,85,0.3);
    }
    
    .see-more-btn:hover { 
      background: var(--primary-dark); 
      transform: translateY(-2px);
    }

    /* Overlay */
    .film-overlay {
      position: fixed; 
      top: 0; 
      left: 0; 
      width: 100%; 
      height: 100%;
      background: rgba(0,0,0,0.97); 
      display: none; 
      z-index: 2000;
      overflow-y: auto; 
      opacity: 0; 
      transition: opacity 0.3s ease;
      padding: 20px;
    }
    
    .film-overlay.active { 
      display: block; 
      animation: fadeIn 0.3s forwards; 
    }
    
    .film-container {
      background: var(--secondary-color); 
      border-radius: 10px;
      max-width: 1100px; 
      margin: 40px auto; 
      padding: 25px;
      position: relative; 
      box-shadow: 0 10px 30px rgba(0,0,0,0.5);
      transform: translateY(20px); 
      transition: transform 0.3s ease;
    }
    
    .film-overlay.active .film-container { 
      transform: translateY(0); 
    }

    .close-btn {
      position: absolute; 
      top: 15px; 
      right: 15px; 
      width: 36px; 
      height: 36px;
      background: rgba(255,255,255,0.1); 
      border: none; 
      border-radius: 50%;
      color: var(--text-secondary); 
      font-size: 1.1rem; 
      cursor: pointer;
      display: flex; 
      align-items: center; 
      justify-content: center; 
      transition: var(--transition);
      z-index: 10;
    }
    
    .close-btn:hover { 
      background: var(--primary-color); 
      color: white; 
      transform: rotate(90deg); 
    }

    .film-header { 
      display: flex; 
      gap: 25px; 
      margin-bottom: 20px; 
      flex-direction: column;
    }
    
    .film-poster {
      width: 100%; 
      max-width: 300px; 
      border-radius: 10px; 
      box-shadow: 0 10px 30px rgba(0,0,0,0.5);
      transition: transform 0.3s ease;
      align-self: center;
    }
    
    .film-poster:hover { 
      transform: scale(1.02); 
    }

    .film-details { 
      flex: 1; 
    }
    
    .film-details h1 {
      font-size: 1.8rem; 
      margin-bottom: 10px;
      background: linear-gradient(to right, #fff 20%, var(--accent-color) 100%);
      -webkit-background-clip: text; 
      background-clip: text; 
      -webkit-text-fill-color: transparent;
      line-height: 1.3;
    }
    
    .film-meta {
      display: flex; 
      flex-wrap: wrap; 
      gap: 12px; 
      margin-bottom: 15px;
      color: var(--text-secondary); 
      align-items: center;
      font-size: 0.9rem;
    }
    
    .film-rating {
      color: gold; 
      font-weight: bold; 
      display: flex; 
      align-items: center; 
      gap: 5px;
    }
    
    .film-genres {
      display: flex; 
      flex-wrap: wrap; 
      gap: 8px; 
      margin-bottom: 15px;
    }
    
    .genre-tag {
      background: var(--bg-lighter); 
      padding: 5px 12px; 
      border-radius: 20px;
      font-size: 0.75rem; 
      transition: var(--transition);
    }
    
    .genre-tag:hover { 
      background: var(--gradient); 
      color: white; 
      transform: translateY(-2px); 
    }
    
    .film-overview { 
      margin-bottom: 20px; 
      line-height: 1.7; 
      color: var(--text-secondary); 
      font-size: 0.95rem;
    }

    .player-options {
      display: flex; 
      gap: 8px; 
      margin-bottom: 15px; 
      flex-wrap: wrap;
    }
    
    .player-option-btn {
      padding: 8px 16px; 
      background: var(--bg-lighter); 
      border: none;
      border-radius: 30px; 
      cursor: pointer; 
      transition: var(--transition);
      color: var(--text-color); 
      font-weight: 500; 
      box-shadow: 0 3px 10px rgba(0,0,0,0.1);
      font-size: 0.85rem;
    }
    
    .player-option-btn:hover { 
      background: rgba(255,255,255,0.2); 
    }
    
    .player-option-btn.active {
      background: var(--gradient); 
      color: white; 
      box-shadow: 0 5px 15px rgba(255,45,85,0.3);
    }

    .episode-selector {
      margin-bottom: 15px; 
      background: var(--bg-lighter); 
      padding: 12px; 
      border-radius: 8px; 
      display: none;
    }
    
    .episode-selector label {
      display: block; 
      margin-bottom: 6px; 
      font-weight: 500; 
      color: var(--text-secondary);
      font-size: 0.85rem;
    }
    
    .episode-selector select {
      width: 100%; 
      padding: 8px 12px; 
      background: var(--bg-light);
      border: 1px solid rgba(255,255,255,0.1); 
      border-radius: 5px; 
      color: var(--text-color);
      margin-bottom: 10px; 
      cursor: pointer; 
      transition: var(--transition);
      font-size: 0.85rem;
    }
    
    .episode-selector select:hover { 
      border-color: var(--primary-color); 
    }
    
    .episode-selector select:focus {
      outline: none; 
      border-color: var(--accent-color);
      box-shadow: 0 0 0 2px rgba(0,200,255,0.2);
    }

    .player-container {
      width: 100%; 
      height: 0;
      padding-bottom: 56.25%; /* 16:9 Aspect Ratio */
      background: #000; 
      border-radius: 8px;
      overflow: hidden; 
      position: relative; 
      box-shadow: 0 10px 30px rgba(0,0,0,0.5);
    }
    
    .player-container::before {
      content: ''; 
      position: absolute; 
      top: 0; 
      left: 0; 
      width: 100%; 
      height: 100%;
      background: linear-gradient(45deg, rgba(255,45,85,0.1), rgba(0,200,255,0.1));
      z-index: 1; 
      opacity: 0; 
      transition: opacity 0.3s ease; 
      pointer-events: none;
    }
    
    .player-container:hover::before { 
      opacity: 1; 
    }

    #film-player {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%; 
      height: 100%; 
      border: none; 
      z-index: 2; 
      pointer-events: auto;
    }

    /* TV Channels specific styles */
    .tv-channel-card {
      flex: 0 0 auto;
      width: 200px;
      background: var(--bg-light);
      border-radius: 10px;
      overflow: hidden;
      cursor: pointer;
      transition: var(--transition);
      position: relative;
      box-shadow: var(--card-shadow);
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 15px;
    }

    .tv-channel-card:hover {
      transform: translateY(-8px) scale(1.03);
      box-shadow: 0 12px 24px rgba(0,0,0,0.4);
    }

    .tv-channel-logo {
      width: 100%;
      height: 100px;
      object-fit: contain;
      background: white;
      padding: 15px;
      border-radius: 8px;
      margin-bottom: 15px;
    }

    .tv-channel-info {
      text-align: center;
      width: 100%;
    }

    .tv-channel-info h3 {
      font-size: 1rem;
      margin-bottom: 5px;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    .tv-channel-info p {
      font-size: 0.8rem;
      color: var(--text-secondary);
    }

    .tv-channel-play-btn {
      margin-top: 10px;
      padding: 8px 20px;
      background: var(--gradient);
      border-radius: 30px;
      font-weight: 500;
      color: white;
      transition: var(--transition);
      font-size: 0.85rem;
      border: none;
      cursor: pointer;
    }

    .tv-channel-play-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(255,45,85,0.3);
    }

    #tv-channels {
      display: grid !important;
      grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
      gap: 20px;
      padding: 20px 0;
    }

    #tv-player {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      border: none;
      z-index: 2;
      pointer-events: auto;
    }

    /* TV Player Overlay */
    #tv-player-overlay .film-container {
      max-width: 900px;
    }

    #tv-player-overlay h2 {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    #tv-player-overlay h2 i {
      color: var(--primary-color);
    }

    #tv-player-overlay .player-container {
      position: relative;
      width: 100%;
      height: 75vh; /* ou 90vh si tu veux plus grand */
      padding-bottom: 0 !important;
      background: #000;
      border-radius: 10px;
      overflow: hidden;
      margin-top: 20px;
    }
    
    /* Footer */
    footer {
      text-align: center; 
      padding: 40px 0; 
      font-size: 0.85rem;
      color: var(--text-secondary); 
      background: var(--bg-light); 
      border-top: 1px solid rgba(255,255,255,0.1);
      margin-top: 50px;
    }
    
    .footer-logo {
      font-size: 1.4rem; 
      font-weight: 700; 
      background: var(--gradient);
      -webkit-background-clip: text; 
      background-clip: text; 
      -webkit-text-fill-color: transparent;
      margin-bottom: 15px; 
      display: inline-block;
    }
    
    .footer-links {
      display: flex; 
      justify-content: center; 
      gap: 15px; 
      flex-wrap: wrap; 
      margin-bottom: 20px;
      font-size: 0.85rem;
    }
    
    .footer-links a:hover { 
      color: var(--primary-color); 
    }
    
    .social-links {
      display: flex; 
      justify-content: center; 
      gap: 12px; 
      margin-bottom: 20px;
    }
    
    .social-links a {
      width: 36px; 
      height: 36px; 
      border-radius: 50%; 
      background: var(--bg-lighter);
      display: flex; 
      align-items: center; 
      justify-content: center; 
      transition: var(--transition);
      font-size: 0.9rem;
    }
    
    .social-links a:hover { 
      background: var(--gradient); 
      transform: translateY(-3px); 
      color: white; 
    }

    /* Mobile Menu */
    .mobile-menu {
      position: fixed;
      top: 0;
      right: -100%;
      width: 280px;
      height: 100%;
      background: var(--bg-light);
      z-index: 1000;
      transition: all 0.4s ease;
      padding: 80px 20px 20px;
      box-shadow: -5px 0 15px rgba(0,0,0,0.3);
      overflow-y: auto;
    }
    
    .mobile-menu.active {
      right: 0;
    }
    
    .mobile-menu ul {
      list-style: none;
    }
    
    .mobile-menu li {
      margin-bottom: 15px;
    }
    
    .mobile-menu a {
      display: block;
      padding: 10px 15px;
      border-radius: 5px;
      transition: all 0.3s ease;
      font-size: 1rem;
    }
    
    .mobile-menu a:hover,
    .mobile-menu a.active {
      background: rgba(255,255,255,0.1);
      color: var(--primary-color);
    }
    
    .mobile-menu-toggle {
      display: block;
    }
    
    .mobile-menu-backdrop {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.7);
      z-index: 999;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.3s ease;
    }
    
    .mobile-menu-backdrop.active {
      opacity: 1;
      pointer-events: auto;
    }

    /* Animations */
    @keyframes fadeIn { 
      from { opacity: 0; } 
      to { opacity: 1; } 
    }
    
    @keyframes fadeInUp { 
      from { opacity: 0; transform: translateY(20px); } 
      to { opacity: 1; transform: translateY(0); } 
    }

    /* Responsive */
    @media (min-width: 768px) {
      .header-content {
        padding: 15px 0;
      }
      
      .logo {
        font-size: 1.8rem;
        gap: 10px;
      }
      
      .logo-icon {
        font-size: 2rem;
      }
      
      nav {
        display: block;
        position: static;
        transform: none;
      }
      
      .mobile-menu-toggle {
        display: none;
      }
      
      .mobile-menu {
        display: none;
      }
      
      .film-header {
        flex-direction: row;
      }
      
      .film-poster {
        align-self: flex-start;
      }
      
      .film-details h1 {
        font-size: 2.2rem;
      }
      
      section h2 {
        font-size: 1.8rem;
      }
      
      .movie-card {
        width: 180px;
      }
      
      .movie-poster {
        height: 270px;
      }
      
      .movies-grid {
        gap: 20px;
      }
      
      #platform-results, #search-results, #films-content, #series-content, #categories-content {
        grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
      }

      .tv-channel-card {
        width: 220px;
      }
    }
    
    @media (min-width: 992px) {
      .container {
        width: 90%;
      }
      
      .player-container {
        height: 500px;
        padding-bottom: 0;
      }
      
      .section-nav-arrow {
        width: 40px;
        height: 40px;
        font-size: 1.2rem;
      }
      
      .section-nav-arrow.left {
        left: -20px;
      }
      
      .section-nav-arrow.right {
        right: -20px;
      }
    }
    
    @media (max-width: 576px) {
      .hero {
        height: 60vh;
        min-height: 400px;
      }
      
      .hero h1 {
        font-size: 2rem;
      }
      
      .hero p {
        font-size: 1rem;
      }
      
      .movie-card {
        width: 130px;
      }
      
      .movie-poster {
        height: 195px;
      }
      
      .stream-btn {
        padding: 8px 15px;
        font-size: 0.85rem;
      }
      
      .stream-btn img {
        height: 18px;
      }
      
      .film-container {
        padding: 20px;
        margin: 20px auto;
      }
      
      .film-details h1 {
        font-size: 1.6rem;
      }
      
      .section-nav-arrow {
        display: none;
      }
      
      .search-bar {
        width: 150px;
        right: 50px;
      }
      
      #platform-results, #search-results, #films-content, #series-content, #categories-content {
        grid-template-columns: repeat(auto-fill, minmax(130px, 1fr));
        gap: 15px;
      }

      .tv-channel-card {
        width: 160px;
      }

      .tv-channel-logo {
        height: 80px;
      }
    }
  </style>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>

  <header id="main-header">
    <div class="container">
      <div class="header-content">
        <button class="mobile-menu-toggle" id="mobile-menu-toggle">
          <i class="fas fa-bars"></i>
        </button>
        <a href="#" class="logo">
          <i class="fas fa-play-circle logo-icon"></i>
          <span>Novovue</span>
        </a>
        <nav>
          <ul class="nav-menu">
            <li><a href="#" class="active" id="home-link">Accueil</a></li>
            <li><a href="#" id="films-link">Films</a></li>
            <li><a href="#" id="series-link">Séries</a></li>
            <li><a href="#" id="tv-link">TV</a></li>
            <li><a href="#" id="categories-link">Catégories</a></li>
          </ul>
        </nav>
        <button class="search-toggle" id="search-toggle"><i class="fas fa-search"></i></button>
        <div class="search-bar" id="search-bar">
          <input type="text" id="search-input" placeholder="Rechercher un film ou série...">
          <button id="search-btn"><i class="fas fa-search"></i></button>
        </div>
      </div>
    </div>
  </header>

  <!-- Mobile Menu -->
  <div class="mobile-menu" id="mobile-menu">
    <ul>
      <li><a href="#" class="active" id="mobile-home-link">Accueil</a></li>
      <li><a href="#" id="mobile-films-link">Films</a></li>
      <li><a href="#" id="mobile-series-link">Séries</a></li>
      <li><a href="#" id="mobile-categories-link">Catégories</a></li>
    </ul>
  </div>
  <div class="mobile-menu-backdrop" id="mobile-menu-backdrop"></div>

  <!-- Hero -->
  <div class="hero">
    <div class="hero-content">
      <h1>L'expérience ultime de streaming</h1>
      <p>Des milliers de films et séries en qualité HD, disponibles partout</p>
      <a href="#" class="hero-btn">Regarder maintenant</a>
    </div>
  </div>

  <!-- Home page sections -->
  <div class="container" id="home-page">
    <section>
      <h2>Plateformes disponibles</h2>
      <div class="streaming-categories">
        <button class="stream-btn" data-provider="8" data-name="Netflix">
          <img src="https://upload.wikimedia.org/wikipedia/commons/0/08/Netflix_2015_logo.svg" alt="Netflix">
          Netflix
        </button>
        <button class="stream-btn" data-provider="119" data-name="Amazon Prime">
          <img src="https://upload.wikimedia.org/wikipedia/commons/f/f1/Prime_Video.png" alt="Prime">
          Prime
        </button>
        <button class="stream-btn" data-provider="337" data-name="Disney+">
          <img src="https://upload.wikimedia.org/wikipedia/commons/3/3e/Disney%2B_logo.svg" alt="Disney+">
          Disney+
        </button>
        <button class="stream-btn" data-provider="531" data-name="Paramount+">
          <img src="https://upload.wikimedia.org/wikipedia/commons/a/a5/Paramount_Plus.svg" alt="Paramount+">
          Paramount+
        </button>
      </div>
    </section>

    <section>
      <h2>À l'affiche</h2>
      <div class="movies-grid-container">
        <button class="section-nav-arrow left" data-target="trending-content"><i class="fas fa-chevron-left"></i></button>
        <div class="movies-grid" id="trending-content"></div>
        <button class="section-nav-arrow right" data-target="trending-content"><i class="fas fa-chevron-right"></i></button>
      </div>
    </section>
    <section>
      <h2>Films populaires</h2>
      <div class="movies-grid-container">
        <button class="section-nav-arrow left" data-target="popular-content"><i class="fas fa-chevron-left"></i></button>
        <div class="movies-grid" id="popular-content"></div>
        <button class="section-nav-arrow right" data-target="popular-content"><i class="fas fa-chevron-right"></i></button>
      </div>
    </section>
    <section>
      <h2>Sorties récentes</h2>
      <div class="movies-grid-container">
        <button class="section-nav-arrow left" data-target="recent-content"><i class="fas fa-chevron-left"></i></button>
        <div class="movies-grid" id="recent-content"></div>
        <button class="section-nav-arrow right" data-target="recent-content"><i class="fas fa-chevron-right"></i></button>
      </div>
    </section>

    <section>
      <h2>Comédie</h2>
      <div class="movies-grid-container">
        <button class="section-nav-arrow left" data-target="comedy-content"><i class="fas fa-chevron-left"></i></button>
        <div class="movies-grid" id="comedy-content"></div>
        <button class="section-nav-arrow right" data-target="comedy-content"><i class="fas fa-chevron-right"></i></button>
      </div>
    </section>
    <section>
      <h2>Horreur</h2>
      <div class="movies-grid-container">
        <button class="section-nav-arrow left" data-target="horror-content"><i class="fas fa-chevron-left"></i></button>
        <div class="movies-grid" id="horror-content"></div>
        <button class="section-nav-arrow right" data-target="horror-content"><i class="fas fa-chevron-right"></i></button>
      </div>
    </section>
    <section>
      <h2>Action</h2>
      <div class="movies-grid-container">
        <button class="section-nav-arrow left" data-target="action-content"><i class="fas fa-chevron-left"></i></button>
        <div class="movies-grid" id="action-content"></div>
        <button class="section-nav-arrow right" data-target="action-content"><i class="fas fa-chevron-right"></i></button>
      </div>
    </section>
    <section>
      <h2>Drame</h2>
      <div class="movies-grid-container">
        <button class="section-nav-arrow left" data-target="drama-content"><i class="fas fa-chevron-left"></i></button>
        <div class="movies-grid" id="drama-content"></div>
        <button class="section-nav-arrow right" data-target="drama-content"><i class="fas fa-chevron-right"></i></button>
      </div>
    </section>
    <section>
      <h2>Romance</h2>
      <div class="movies-grid-container">
        <button class="section-nav-arrow left" data-target="romance-content"><i class="fas fa-chevron-left"></i></button>
        <div class="movies-grid" id="romance-content"></div>
        <button class="section-nav-arrow right" data-target="romance-content"><i class="fas fa-chevron-right"></i></button>
      </div>
    </section>
  </div>

  <!-- Overlays -->
  <div id="films-overlay" class="film-overlay">
    <div class="film-container">
      <button class="close-btn" id="close-films"><i class="fas fa-times"></i></button>
      <h2>Tous les films</h2>
      <div class="movies-grid" id="films-content"></div>
    </div>
  </div>
  <div id="series-overlay" class="film-overlay">
    <div class="film-container">
      <button class="close-btn" id="close-series"><i class="fas fa-times"></i></button>
      <h2>Toutes les séries</h2>
      <div class="movies-grid" id="series-content"></div>
    </div>
  </div>
  <div id="tv-overlay" class="film-overlay">
    <div class="film-container">
      <button class="close-btn" id="close-tv"><i class="fas fa-times"></i></button>
      <h2><i class="fas fa-tv"></i> Chaînes TV</h2>
      <div id="tv-channels" class="movies-grid"></div>
    </div>
  </div>  
  <div id="categories-overlay" class="film-overlay">
    <div class="film-container">
      <button class="close-btn" id="close-categories"><i class="fas fa-times"></i></button>
      <h2 id="categories-title">Toutes les catégories</h2>
      <div id="categories-content"></div>
    </div>
  </div>
  <div id="platform-overlay" class="film-overlay">
    <div class="film-container">
      <button class="close-btn" id="close-platform"><i class="fas fa-times"></i></button>
      <h2 id="platform-title"></h2>
      <div class="movies-grid" id="platform-results"></div>
    </div>
  </div>
  <div id="search-overlay" class="film-overlay">
    <div class="film-container">
      <button class="close-btn" id="close-search"><i class="fas fa-times"></i></button>
      <h2>Résultats de recherche</h2>
      <div class="movies-grid" id="search-results"></div>
    </div>
  </div>
  <div id="tv-player-overlay" class="film-overlay">
    <div class="film-container">
      <button class="close-btn" id="close-tv-player"><i class="fas fa-times"></i></button>
      <h2 id="tv-player-title"><i class="fas fa-tv"></i> <span id="tv-channel-name"></span></h2>
      <div class="player-container" style="margin-top:20px;">
        <iframe id="tv-player" src="" frameborder="0" allowfullscreen allow="autoplay; fullscreen; encrypted-media"></iframe>
      </div>
    </div>
  </div>  
  <div id="film-overlay" class="film-overlay">
    <div class="film-container">
      <button class="close-btn" id="close-film"><i class="fas fa-times"></i></button>
      <div class="film-header" id="film-header"></div>
      <div class="player-options">
        <button class="player-option-btn active" data-player="wavewatch">MULTI</button>
        <button class="player-option-btn" data-player="frembed">VF - VPN REQUIS</button>
        <button class="player-option-btn" data-player="vidlink">VO</button>
      </div>
      <div class="episode-selector" id="episode-selector" style="display:none">
        <label for="season-select">Saison :</label>
        <select id="season-select"></select>
        <label for="episode-select">Épisode :</label>
        <select id="episode-select"></select>
      </div>
      <div class="player-container">
        <iframe id="film-player" frameborder="0" allow="autoplay; fullscreen; encrypted-media"></iframe>
      </div>
    </div>
  </div>

  <footer>
    <div class="container">
      <div class="footer-logo">Novovue</div>
      <div class="footer-links">
        <a href="#">Accueil</a>
        <a href="#">Films</a>
        <a href="#">Séries</a>
        <a href="#">Nouveautés</a>
        <a href="#">Aide</a>
        <a href="#">Conditions</a>
        <a href="#">Confidentialité</a>
      </div>
      <div class="social-links">
        <a href="#"><i class="fab fa-facebook-f"></i></a>
        <a href="#"><i class="fab fa-twitter"></i></a>
        <a href="#"><i class="fab fa-instagram"></i></a>
        <a href="#"><i class="fab fa-youtube"></i></a>
      </div>
      <p>© 2025 Novovue. Tous droits réservés.</p>
    </div>
  </footer>

  <script>
    const API_KEY = '7e14b834557481d48b67aebd4f0680b2';
    const FREMBED_FILM = 'https://play.frembed.cc/api/film.php?id=';
    const FREMBED_SERIE = 'https://play.frembed.cc/api/serie.php?id=';
    const VIDLINK_FILM = 'https://vidlink.pro/movie/';
    const VIDLINK_SERIE = 'https://vidlink.pro/tv/';
    const WAVEWATCH_FILM = 'https://embed.wavewatch.xyz/embed/';
    const WAVEWATCH_SERIE = 'https://embed.wavewatch.xyz/embed/';
  
    let currentPage = 1,
        currentCategory = '',
        currentProvider = '';
  
    let currentMedia = {},
        currentPlayer = 'wavewatch';
  
    const containers = {
      comedy: 'comedy-content',
      horror: 'horror-content',
      action: 'action-content',
      drama: 'drama-content',
      romance: 'romance-content',
      recent: 'recent-content',
      popular: 'popular-content',
      trending: 'trending-content'
    };
  
    const playerOptions = document.querySelectorAll('.player-option-btn');
  
    function scrollToTopOfOverlay(overlayId) {
      const overlay = document.getElementById(overlayId);
      if (overlay) overlay.scrollTo({ top: 0, behavior: 'auto' });
    }
  
    function closeOverlay(overlayId) {
      const overlay = document.getElementById(overlayId);
      overlay.classList.remove('active');
      document.body.classList.remove('overlay-open');
      if (overlayId === 'film-overlay') {
        const player = document.getElementById('film-player');
        player.src = '';
        player.removeAttribute('src');
      }
      if (overlayId === 'tv-player-overlay') {
        const player = document.getElementById('tv-player');
        player.src = '';
        player.removeAttribute('src');
      }
      document.getElementById('home-page').style.display = 'block';
    }
  
    function addSeeMoreButton(containerId, baseUrl, type, isGrid = false) {
      const container = document.getElementById(containerId);
      const parent = container.parentElement;
      const oldBtn = parent.querySelector('.see-more-btn');
      if (oldBtn) oldBtn.remove();
      const btn = document.createElement('button');
      btn.className = 'see-more-btn';
      btn.textContent = 'Voir plus';
      btn.addEventListener('click', async () => {
        btn.disabled = true;
        btn.textContent = 'Chargement...';
        await fetchAndDisplay(`${baseUrl}&page=${currentPage + 1}`, containerId, type, isGrid, true);
        btn.disabled = false;
        btn.textContent = 'Voir plus';
      });
      parent.appendChild(btn);
    }
  
    function updatePlayer(){
      const player = document.getElementById('film-player');
      player.src = '';
      player.removeAttribute('src');

      setTimeout(()=>{
        let src = '';
        if (currentMedia.type === 'movie') {
          if (currentPlayer === 'wavewatch') {
            src = `${WAVEWATCH_FILM}${currentMedia.imdb_id}`;
          } else {
            src = (currentPlayer === 'frembed' ? FREMBED_FILM : VIDLINK_FILM) + currentMedia.id;
          }
        } else {
          const s = document.getElementById('season-select').value;
          const e = document.getElementById('episode-select').value;
          if (currentPlayer === 'wavewatch') {
            src = `https://embed.wavewatch.xyz/embed/series?tmdb=${currentMedia.id}&sea=${s}&epi=${e}`;
          } else {
            src = currentPlayer === 'frembed'
              ? `${FREMBED_SERIE}${currentMedia.id}&sa=${s}&epi=${e}`
              : `${VIDLINK_SERIE}${currentMedia.id}/${s}/${e}`;
          }
        }

        player.src = src;
        player.setAttribute('allowfullscreen','');
        player.setAttribute('allow','autoplay; fullscreen; encrypted-media');
        player.style.pointerEvents = 'auto';
      }, 100);
    }

  
    async function openOverlay(id, type) {
      const res = await fetch(
        `https://api.themoviedb.org/3/${type}/${id}?api_key=${API_KEY}&language=fr-FR&append_to_response=external_ids`
      );
      const data = await res.json();
      const hdr = document.getElementById('film-header');
      hdr.innerHTML = `
        <img src="https://image.tmdb.org/t/p/w500${data.poster_path}" class="film-poster" alt="${data.title||data.name}" onerror="this.src='https://placehold.co/500x750?text=Image+manquante&font=roboto'">
        <div class="film-details">
          <h1>${data.title||data.name}</h1>
          <div class="film-meta">
            <span>${(data.release_date||data.first_air_date||'').slice(0,4)}</span>
            <span class="film-rating"><i class="fas fa-star"></i> ${data.vote_average?.toFixed(1)||'N/A'}</span>
            <span>${type==='movie'? (data.runtime?data.runtime+' min':'Durée inconnue') : data.number_of_seasons+' saisons'}</span>
          </div>
          <div class="film-genres">${(data.genres||[]).map(g=>`<span class="genre-tag">${g.name}</span>`).join('')}</div>
          <p class="film-overview">${data.overview||'Aucun synopsis disponible.'}</p>
        </div>`;
      currentMedia = { id, type, imdb_id: data.external_ids?.imdb_id };
      if (type === 'tv') {
        document.getElementById('episode-selector').style.display='block';
        const ss = document.getElementById('season-select');
        ss.innerHTML = '';
        (data.seasons||[])
          .filter(s=>s.season_number>0)
          .forEach(s=>{
            const o = document.createElement('option');
            o.value = s.season_number;
            o.textContent = `Saison ${s.season_number}`;
            ss.appendChild(o);
          });
        await loadEpisodes(id);
      } else {
        document.getElementById('episode-selector').style.display='none';
      }
      playerOptions.forEach(b=>b.classList.remove('active'));
      document.querySelector('.player-option-btn[data-player="wavewatch"]').classList.add('active');
      currentPlayer = 'wavewatch';
      document.getElementById('film-overlay').classList.add('active');
      scrollToTopOfOverlay('film-overlay');
      document.body.classList.add('overlay-open');
      updatePlayer();
    }
  
    async function loadEpisodes(id) {
      const season = document.getElementById('season-select').value;
      const res = await fetch(
        `https://api.themoviedb.org/3/tv/${id}/season/${season}?api_key=${API_KEY}&language=fr-FR`
      );
      const data = await res.json();
      const epSel = document.getElementById('episode-select');
      epSel.innerHTML = '';
      (data.episodes || []).forEach(ep => {
        const o = document.createElement('option');
        o.value = ep.episode_number;
        o.textContent = `Épisode ${ep.episode_number} : ${ep.name}`;
        epSel.appendChild(o);
      });

      // Appelle le lecteur avec le premier épisode par défaut
      updatePlayer();
    }

  
    playerOptions.forEach(btn=>{
      btn.addEventListener('click',()=>{
        playerOptions.forEach(b=>b.classList.remove('active'));
        btn.classList.add('active');
        currentPlayer = btn.dataset.player;
        updatePlayer();
      });
    });
  
    async function fetchAndDisplay(url, containerId, forceType=null, isGrid=false, loadMore=false) {
      try {
        const res = await fetch(url);
        const json = await res.json();
        const list = json.results || json.genres || [];
        const container = document.getElementById(containerId);
        if (!loadMore) { container.innerHTML = ''; currentPage = 1; }
        else { currentPage++; }
        container.style.display = isGrid ? 'grid' : 'flex';
        if (containerId==='categories-content' && !forceType && url.includes('/genre/movie/list')) {
          list.forEach(genre=>{
            const card = document.createElement('div');
            card.className = 'movie-card';
            card.innerHTML = `
              <div style="background:var(--gradient);height:270px;display:flex;align-items:center;justify-content:center;">
                <h3 style="color:white;padding:20px;text-align:center;">${genre.name}</h3>
              </div>
              <div class="movie-info"><h3>${genre.name}</h3></div>`;
            card.addEventListener('click', ()=>{
              currentCategory = genre.id;
              document.getElementById('categories-title').textContent = `Films – ${genre.name}`;
              const genreUrl = `https://api.themoviedb.org/3/discover/movie?api_key=${API_KEY}&language=fr-FR&with_genres=${genre.id}&page=1`;
              fetchAndDisplay(genreUrl,'categories-content','movie',true);
              scrollToTopOfOverlay('categories-overlay');
            });
            container.appendChild(card);
          });
          return;
        }
        for (const item of list) {
          const type = forceType || item.media_type || 'movie';
          let poster = item.poster_path || item.backdrop_path;
          if (!poster) {
            const r = await fetch(`https://api.themoviedb.org/3/${type}/${item.id}?api_key=${API_KEY}&language=fr-FR`);
            const full = await r.json();
            poster = full.poster_path||full.backdrop_path;
            if (!poster) continue;
          }
          const title = type==='tv' ? item.name : item.title||item.name;
          const date = type==='tv' ? item.first_air_date : item.release_date;
          const year = date? date.split('-')[0] : '';
          const card = document.createElement('div');
          card.className = 'movie-card';
          card.innerHTML = `
            <img src="https://image.tmdb.org/t/p/w500${poster}" class="movie-poster" alt="${title}" onerror="this.src='https://placehold.co/500x750?text=Image+manquante&font=roboto'">
            <div class="movie-info">
              <h3>${title}</h3>
              <p><i class="fas fa-star movie-rating"></i> ${item.vote_average?.toFixed(1)||'N/A'} • ${year}</p>
            </div>
            <div class="play-icon"><i class="fas fa-play"></i></div>`;
          card.addEventListener('click', () => openOverlay(item.id, type));
          container.appendChild(card);
        }
        if (isGrid && list.length>0 && ['films-content','series-content','categories-content','platform-results'].includes(containerId)) {
          const baseUrl = url.split('&page=')[0];
          addSeeMoreButton(containerId, baseUrl, forceType, isGrid);
        }
      } catch(e) { console.error(e); }
    }
  
    function loadHomeContent() {
      fetchAndDisplay(`https://api.themoviedb.org/3/discover/movie?api_key=${API_KEY}&language=fr-FR&with_genres=35&page=1`, containers.comedy,'movie');
      fetchAndDisplay(`https://api.themoviedb.org/3/discover/movie?api_key=${API_KEY}&language=fr-FR&with_genres=27&page=1`, containers.horror,'movie');
      fetchAndDisplay(`https://api.themoviedb.org/3/discover/movie?api_key=${API_KEY}&language=fr-FR&with_genres=28&page=1`, containers.action,'movie');
      fetchAndDisplay(`https://api.themoviedb.org/3/discover/movie?api_key=${API_KEY}&language=fr-FR&with_genres=18&page=1`, containers.drama,'movie');
      fetchAndDisplay(`https://api.themoviedb.org/3/discover/movie?api_key=${API_KEY}&language=fr-FR&with_genres=10749&page=1`, containers.romance,'movie');
      fetchAndDisplay(`https://api.themoviedb.org/3/trending/movie/week?api_key=${API_KEY}&language=fr-FR&page=1`, containers.trending,'movie');
      fetchAndDisplay(`https://api.themoviedb.org/3/movie/popular?api_key=${API_KEY}&language=fr-FR&page=1`, containers.popular,'movie');
      const today = new Date().toISOString().split('T')[0];
      const monthAgo = new Date(Date.now()-30*24*60*60*1000).toISOString().split('T')[0];
      fetchAndDisplay(
        `https://api.themoviedb.org/3/discover/movie?api_key=${API_KEY}&language=fr-FR&primary_release_date.gte=${monthAgo}&primary_release_date.lte=${today}&page=1`,
        containers.recent,'movie'
      );
    }
  
    function openTVPlayer(name, src) {
      const overlay = document.getElementById('tv-player-overlay');
      document.getElementById('tv-channel-name').textContent = name;
      const iframe = document.getElementById('tv-player');
      iframe.src = src;
      overlay.classList.add('active');
      document.body.classList.add('overlay-open');
      document.getElementById('home-page').style.display = 'none';
    }

    function loadTVChannels() {
      const channels = [
        {
          name: 'BeIN Sport',
          logo: 'data:image/jpeg;base64,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',
          src: 'https://embed.wavewatch.xyz/embed/oYk7K',
          description: 'Le meilleur du sport en direct'
        },
      ];

      const container = document.getElementById('tv-channels');
      container.innerHTML = '';
      channels.forEach(channel => {
        const card = document.createElement('div');
        card.className = 'tv-channel-card';
        card.innerHTML = `
          <img src="${channel.logo}" class="tv-channel-logo" alt="${channel.name}">
          <div class="tv-channel-info">
            <h3>${channel.name}</h3>
            <p>${channel.description}</p>
            <button class="tv-channel-play-btn">
              <i class="fas fa-play"></i> Regarder
            </button>
          </div>
        `;
        card.addEventListener('click', () => {
          openTVPlayer(channel.name, channel.src);
        });
        container.appendChild(card);
      });
    }

    document.addEventListener('DOMContentLoaded', () => {
      loadHomeContent();

      document.getElementById('season-select').addEventListener('change', async () => {
        await loadEpisodes(currentMedia.id);
        updatePlayer();
      });

      document.getElementById('episode-select').addEventListener('change', () => {
        updatePlayer();
      });

      window.addEventListener('scroll', () => {
        document.getElementById('main-header').classList.toggle('scrolled', window.scrollY > 50);
      });
      document.getElementById('search-toggle').addEventListener('click', () => {
        const sb = document.getElementById('search-bar');
        sb.classList.toggle('active');
        if (sb.classList.contains('active')) document.getElementById('search-input').focus();
      });
      document.querySelectorAll('.section-nav-arrow').forEach(btn => {
        btn.addEventListener('click', () => {
          const grid = document.getElementById(btn.dataset.target);
          grid.scrollBy({ left: btn.classList.contains('left') ? -300 : 300, behavior: 'smooth' });
        });
      });
      document.getElementById('home-link').addEventListener('click', e => {
        e.preventDefault();
        document.getElementById('home-page').style.display = 'block';
        document.querySelectorAll('.film-overlay').forEach(o => o.classList.remove('active'));
        document.body.classList.remove('overlay-open');
      });
      document.getElementById('tv-link').addEventListener('click', e => {
        e.preventDefault();
        document.getElementById('home-page').style.display = 'none';
        document.getElementById('tv-overlay').classList.add('active');
        scrollToTopOfOverlay('tv-overlay');
        document.body.classList.add('overlay-open');
        loadTVChannels();
      });

      document.getElementById('films-link').addEventListener('click', e => {
        e.preventDefault();
        document.getElementById('home-page').style.display = 'none';
        document.getElementById('films-overlay').classList.add('active');
        document.body.classList.add('overlay-open');
        const url = `https://api.themoviedb.org/3/discover/movie?api_key=${API_KEY}&language=fr-FR&sort_by=popularity.desc&with_origin_country=US&page=1`;
        fetchAndDisplay(url, 'films-content','movie',true);
        addSeeMoreButton('films-content', url, 'movie', true);
      });
      document.getElementById('series-link').addEventListener('click', e => {
        e.preventDefault();
        document.getElementById('home-page').style.display = 'none';
        document.getElementById('series-overlay').classList.add('active');
        scrollToTopOfOverlay('series-overlay');
        document.body.classList.add('overlay-open');
        const url = `https://api.themoviedb.org/3/discover/tv?api_key=${API_KEY}&language=fr-FR&sort_by=popularity.desc&with_origin_country=US&with_type=2&page=1`;
        fetchAndDisplay(url, 'series-content','tv',true);
        addSeeMoreButton('series-content', url, 'tv', true);
      });
      document.getElementById('categories-link').addEventListener('click', e => {
        e.preventDefault();
        document.getElementById('home-page').style.display = 'none';
        document.getElementById('categories-overlay').classList.add('active');
        scrollToTopOfOverlay('categories-overlay');
        document.body.classList.add('overlay-open');
        currentCategory = '';
        document.getElementById('categories-title').textContent = `Toutes les catégories`;
        fetchAndDisplay(
          `https://api.themoviedb.org/3/genre/movie/list?api_key=${API_KEY}&language=fr-FR`,
          'categories-content', null, true
        );
      });
      document.querySelectorAll('.film-overlay').forEach(overlay => {
        overlay.addEventListener('click', e => {
          const container = overlay.querySelector('.film-container');
          if (!container.contains(e.target)) {
            overlay.classList.remove('active');
            document.body.classList.remove('overlay-open');
            document.getElementById('home-page').style.display = 'block';
            if (overlay.id === 'film-overlay') {
              const player = document.getElementById('film-player');
              player.src = '';
              player.removeAttribute('src');
            }
            if (overlay.id === 'tv-player-overlay') {
              const player = document.getElementById('tv-player');
              player.src = '';
              player.removeAttribute('src');
            }
          }
        });
      });
      document.querySelectorAll('.stream-btn').forEach(btn => {
        btn.addEventListener('click', () => {
          const pid = btn.dataset.provider, name = btn.dataset.name;
          document.getElementById('platform-title').textContent = `${name} – Disponibles`;
          document.getElementById('home-page').style.display = 'none';
          document.getElementById('platform-overlay').classList.add('active');
          scrollToTopOfOverlay('platform-overlay');
          document.body.classList.add('overlay-open');
          const url = `https://api.themoviedb.org/3/discover/movie?api_key=${API_KEY}&language=fr-FR&with_watch_providers=${pid}&watch_region=FR&page=1`;
          fetchAndDisplay(url, 'platform-results','movie',true);
          addSeeMoreButton('platform-results', url, 'movie', true);
        });
      });
      document.getElementById('search-btn').addEventListener('click', () => {
        const q = document.getElementById('search-input').value.trim();
        if (!q) return;
        document.getElementById('home-page').style.display = 'none';
        document.getElementById('search-overlay').classList.add('active');
        scrollToTopOfOverlay('search-overlay');
        document.body.classList.add('overlay-open');
        fetchAndDisplay(
          `https://api.themoviedb.org/3/search/multi?api_key=${API_KEY}&language=fr-FR&query=${encodeURIComponent(q)}&page=1`,
          'search-results', null, true
        );
      });
      document.getElementById('search-input').addEventListener('keypress', e => {
        if (e.key === 'Enter') document.getElementById('search-btn').click();
      });
      ['close-films','close-series','close-categories','close-platform','close-search','close-film','close-tv','close-tv-player']
        .forEach(id => document.getElementById(id).addEventListener('click', () => closeOverlay(id.replace('close-','') + '-overlay')));
      const mobileMenuToggle = document.getElementById('mobile-menu-toggle'),
            mobileMenu = document.getElementById('mobile-menu'),
            mobileMenuBackdrop = document.getElementById('mobile-menu-backdrop');
      mobileMenuToggle.addEventListener('click', () => {
        mobileMenu.classList.toggle('active');
        mobileMenuBackdrop.classList.toggle('active');
        document.body.classList.toggle('overlay-open');
      });
      mobileMenuBackdrop.addEventListener('click', () => {
        mobileMenu.classList.remove('active');
        mobileMenuBackdrop.classList.remove('active');
        document.body.classList.remove('overlay-open');
      });
      ['home','films','series','categories'].forEach(section => {
        document.getElementById(`mobile-${section}-link`).addEventListener('click', e => {
          e.preventDefault();
          document.getElementById(`${section}-link`).click();
          mobileMenu.classList.remove('active');
          mobileMenuBackdrop.classList.remove('active');
          document.body.classList.remove('overlay-open');
        });
      });
    });
    
  </script>
</body>
</html>
